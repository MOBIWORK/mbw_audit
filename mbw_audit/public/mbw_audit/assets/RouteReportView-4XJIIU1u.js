import{r as o,a6 as A,aK as vt,aL as ht,a9 as T,aM as tt,ak as te,aN as Ce,d as ne,aw as pt,aO as xt,K as Xe,aa as Se,R as ge,_ as Q,aP as Ct,n as wt,a8 as nt,M as Ze,aQ as St,A as Me,g as bt,m as Ge,aR as ve,aS as yt,aT as It,as as Rt,ar as jt,h as ot,ae as Mt,aI as _e,aU as Fe,C as at,aV as rt,aW as it,aX as ke,aD as Ue,av as Ot,j as l,aF as Ye,f as le,F as fe,I as je,T as Nt,a0 as Pt,u as Tt,a1 as qe,H as Et,aG as _t,c as kt}from"./main-OOOJO3_S.js";import{C as Lt,a as $t}from"./CloseCircleOutlined-EKth5rWm.js";var He=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"],Oe=o.createContext(null),Ke=0;function zt(t,e){var n=o.useState(function(){return Ke+=1,String(Ke)}),r=A(n,1),a=r[0],s=o.useContext(Oe),c={data:e,canPreview:t};return o.useEffect(function(){if(s)return s.register(a,c)},[]),o.useEffect(function(){s&&s.register(a,c)},[t,e]),a}function At(t){return new Promise(function(e){var n=document.createElement("img");n.onerror=function(){return e(!1)},n.onload=function(){return e(!0)},n.src=t})}function st(t){var e=t.src,n=t.isCustomPlaceholder,r=t.fallback,a=o.useState(n?"loading":"normal"),s=A(a,2),c=s[0],i=s[1],u=o.useRef(!1),d=c==="error";o.useEffect(function(){var h=!0;return At(e).then(function(C){!C&&h&&i("error")}),function(){h=!1}},[e]),o.useEffect(function(){n&&!u.current?i("loading"):d&&i("normal")},[e]);var g=function(){i("normal")},f=function(C){u.current=!1,c==="loading"&&C!==null&&C!==void 0&&C.complete&&(C.naturalWidth||C.naturalHeight)&&(u.current=!0,g())},b=d&&r?{src:r}:{onLoad:g,src:e};return[f,b,c]}var Te={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function Dt(t,e,n,r){var a=o.useRef(null),s=o.useRef([]),c=o.useState(Te),i=A(c,2),u=i[0],d=i[1],g=function(C){d(Te),r&&!vt(Te,u)&&r({transform:Te,action:C})},f=function(C,y){a.current===null&&(s.current=[],a.current=ht(function(){d(function(v){var w=v;return s.current.forEach(function(O){w=T(T({},w),O)}),a.current=null,r?.({transform:w,action:y}),w})})),s.current.push(T(T({},u),C))},b=function(C,y,v,w,O){var E=t.current,j=E.width,m=E.height,I=E.offsetWidth,p=E.offsetHeight,x=E.offsetLeft,R=E.offsetTop,M=C,S=u.scale*C;S>n?(S=n,M=n/u.scale):S<e&&(S=O?S:e,M=S/u.scale);var _=v??innerWidth/2,z=w??innerHeight/2,k=M-1,D=k*j*.5,Z=k*m*.5,W=k*(_-u.x-x),Y=k*(z-u.y-R),V=u.x-(W-D),B=u.y-(Y-Z);if(C<1&&S===1){var U=I*S,q=p*S,oe=tt(),ie=oe.width,X=oe.height;U<=ie&&q<=X&&(V=0,B=0)}f({x:V,y:B,scale:S},y)};return{transform:u,resetTransform:g,updateTransform:f,dispatchZoomChange:b}}function Je(t,e,n,r){var a=e+n,s=(n-r)/2;if(n>r){if(e>0)return te({},t,s);if(e<0&&a<r)return te({},t,-s)}else if(e<0||a>r)return te({},t,e<0?s:-s);return{}}function lt(t,e,n,r){var a=tt(),s=a.width,c=a.height,i=null;return t<=s&&e<=c?i={x:0,y:0}:(t>s||e>c)&&(i=T(T({},Je("x",n,t,s)),Je("y",r,e,c))),i}var we=1,Yt=1;function Xt(t,e,n,r,a,s,c){var i=a.rotate,u=a.scale,d=a.x,g=a.y,f=o.useState(!1),b=A(f,2),h=b[0],C=b[1],y=o.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),v=function(m){!e||m.button!==0||(m.preventDefault(),m.stopPropagation(),y.current={diffX:m.pageX-d,diffY:m.pageY-g,transformX:d,transformY:g},C(!0))},w=function(m){n&&h&&s({x:m.pageX-y.current.diffX,y:m.pageY-y.current.diffY},"move")},O=function(){if(n&&h){C(!1);var m=y.current,I=m.transformX,p=m.transformY,x=d!==I&&g!==p;if(!x)return;var R=t.current.offsetWidth*u,M=t.current.offsetHeight*u,S=t.current.getBoundingClientRect(),_=S.left,z=S.top,k=i%180!==0,D=lt(k?M:R,k?R:M,_,z);D&&s(T({},D),"dragRebound")}},E=function(m){if(!(!n||m.deltaY==0)){var I=Math.abs(m.deltaY/100),p=Math.min(I,Yt),x=we+p*r;m.deltaY>0&&(x=we/x),c(x,"wheel",m.clientX,m.clientY)}};return o.useEffect(function(){var j,m,I,p;if(e){I=Ce(window,"mouseup",O,!1),p=Ce(window,"mousemove",w,!1);try{window.top!==window.self&&(j=Ce(window.top,"mouseup",O,!1),m=Ce(window.top,"mousemove",w,!1))}catch{}}return function(){var x,R,M,S;(x=I)===null||x===void 0||x.remove(),(R=p)===null||R===void 0||R.remove(),(M=j)===null||M===void 0||M.remove(),(S=m)===null||S===void 0||S.remove()}},[n,h,d,g,i,e]),{isMoving:h,onMouseDown:v,onMouseMove:w,onMouseUp:O,onWheel:E}}function Le(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.hypot(n,r)}function Zt(t,e,n,r){var a=Le(t,n),s=Le(e,r);if(a===0&&s===0)return[t.x,t.y];var c=a/(a+s),i=t.x+c*(e.x-t.x),u=t.y+c*(e.y-t.y);return[i,u]}function Ft(t,e,n,r,a,s,c){var i=a.rotate,u=a.scale,d=a.x,g=a.y,f=o.useState(!1),b=A(f,2),h=b[0],C=b[1],y=o.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),v=function(m){y.current=T(T({},y.current),m)},w=function(m){if(e){m.stopPropagation(),C(!0);var I=m.touches,p=I===void 0?[]:I;p.length>1?v({point1:{x:p[0].clientX,y:p[0].clientY},point2:{x:p[1].clientX,y:p[1].clientY},eventType:"touchZoom"}):v({point1:{x:p[0].clientX-d,y:p[0].clientY-g},eventType:"move"})}},O=function(m){var I=m.touches,p=I===void 0?[]:I,x=y.current,R=x.point1,M=x.point2,S=x.eventType;if(p.length>1&&S==="touchZoom"){var _={x:p[0].clientX,y:p[0].clientY},z={x:p[1].clientX,y:p[1].clientY},k=Zt(R,M,_,z),D=A(k,2),Z=D[0],W=D[1],Y=Le(_,z)/Le(R,M);c(Y,"touchZoom",Z,W,!0),v({point1:_,point2:z,eventType:"touchZoom"})}else S==="move"&&(s({x:p[0].clientX-R.x,y:p[0].clientY-R.y},"move"),v({eventType:"move"}))},E=function(){if(n){if(h&&C(!1),v({eventType:"none"}),r>u)return s({x:0,y:0,scale:r},"touchZoom");var m=t.current.offsetWidth*u,I=t.current.offsetHeight*u,p=t.current.getBoundingClientRect(),x=p.left,R=p.top,M=i%180!==0,S=lt(M?I:m,M?m:I,x,R);S&&s(T({},S),"dragRebound")}};return o.useEffect(function(){var j;return n&&e&&(j=Ce(window,"touchmove",function(m){return m.preventDefault()},{passive:!1})),function(){var m;(m=j)===null||m===void 0||m.remove()}},[n,e]),{isTouching:h,onTouchStart:w,onTouchMove:O,onTouchEnd:E}}var Ht=function(e){var n=e.visible,r=e.maskTransitionName,a=e.getContainer,s=e.prefixCls,c=e.rootClassName,i=e.icons,u=e.countRender,d=e.showSwitch,g=e.showProgress,f=e.current,b=e.transform,h=e.count,C=e.scale,y=e.minScale,v=e.maxScale,w=e.closeIcon,O=e.onSwitchLeft,E=e.onSwitchRight,j=e.onClose,m=e.onZoomIn,I=e.onZoomOut,p=e.onRotateRight,x=e.onRotateLeft,R=e.onFlipX,M=e.onFlipY,S=e.toolbarRender,_=e.zIndex,z=o.useContext(Oe),k=i.rotateLeft,D=i.rotateRight,Z=i.zoomIn,W=i.zoomOut,Y=i.close,V=i.left,B=i.right,U=i.flipX,q=i.flipY,oe="".concat(s,"-operations-operation");o.useEffect(function(){var P=function(N){N.keyCode===Xe.ESC&&j()};return n&&window.addEventListener("keydown",P),function(){window.removeEventListener("keydown",P)}},[n]);var ie=[{icon:q,onClick:M,type:"flipY"},{icon:U,onClick:R,type:"flipX"},{icon:k,onClick:x,type:"rotateLeft"},{icon:D,onClick:p,type:"rotateRight"},{icon:W,onClick:I,type:"zoomOut",disabled:C<=y},{icon:Z,onClick:m,type:"zoomIn",disabled:C===v}],X=ie.map(function(P){var $,N=P.icon,ee=P.onClick,F=P.type,H=P.disabled;return o.createElement("div",{className:ne(oe,($={},te($,"".concat(s,"-operations-operation-").concat(F),!0),te($,"".concat(s,"-operations-operation-disabled"),!!H),$)),onClick:ee,key:F},N)}),G=o.createElement("div",{className:"".concat(s,"-operations")},X);return o.createElement(pt,{visible:n,motionName:r},function(P){var $=P.className,N=P.style;return o.createElement(xt,{open:!0,getContainer:a??document.body},o.createElement("div",{className:ne("".concat(s,"-operations-wrapper"),$,c),style:T(T({},N),{},{zIndex:_})},w===null?null:o.createElement("button",{className:"".concat(s,"-close"),onClick:j},w||Y),d&&o.createElement(o.Fragment,null,o.createElement("div",{className:ne("".concat(s,"-switch-left"),te({},"".concat(s,"-switch-left-disabled"),f===0)),onClick:O},V),o.createElement("div",{className:ne("".concat(s,"-switch-right"),te({},"".concat(s,"-switch-right-disabled"),f===h-1)),onClick:E},B)),o.createElement("div",{className:"".concat(s,"-footer")},g&&o.createElement("div",{className:"".concat(s,"-progress")},u?u(f+1,h):"".concat(f+1," / ").concat(h)),S?S(G,T({icons:{flipYIcon:X[0],flipXIcon:X[1],rotateLeftIcon:X[2],rotateRightIcon:X[3],zoomOutIcon:X[4],zoomInIcon:X[5]},actions:{onFlipY:M,onFlipX:R,onRotateLeft:x,onRotateRight:p,onZoomOut:I,onZoomIn:m},transform:b},z?{current:f,total:h}:{})):G)))})},Wt=["fallback","src","imgRef"],Vt=["prefixCls","src","alt","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],Bt=function(e){var n=e.fallback,r=e.src,a=e.imgRef,s=Se(e,Wt),c=st({src:r,fallback:n}),i=A(c,2),u=i[0],d=i[1];return ge.createElement("img",Q({ref:function(f){a.current=f,u(f)}},s,d))},ct=function(e){var n=e.prefixCls,r=e.src,a=e.alt,s=e.fallback,c=e.movable,i=c===void 0?!0:c,u=e.onClose,d=e.visible,g=e.icons,f=g===void 0?{}:g,b=e.rootClassName,h=e.closeIcon,C=e.getContainer,y=e.current,v=y===void 0?0:y,w=e.count,O=w===void 0?1:w,E=e.countRender,j=e.scaleStep,m=j===void 0?.5:j,I=e.minScale,p=I===void 0?1:I,x=e.maxScale,R=x===void 0?50:x,M=e.transitionName,S=M===void 0?"zoom":M,_=e.maskTransitionName,z=_===void 0?"fade":_,k=e.imageRender,D=e.imgCommonProps,Z=e.toolbarRender,W=e.onTransform,Y=e.onChange,V=Se(e,Vt),B=o.useRef(),U=o.useContext(Oe),q=U&&O>1,oe=U&&O>=1,ie=o.useState(!0),X=A(ie,2),G=X[0],P=X[1],$=Dt(B,p,R,W),N=$.transform,ee=$.resetTransform,F=$.updateTransform,H=$.dispatchZoomChange,ce=Xt(B,i,d,m,N,F,H),be=ce.isMoving,he=ce.onMouseDown,ye=ce.onWheel,K=Ft(B,i,d,p,N,F,H),ae=K.isTouching,re=K.onTouchStart,ue=K.onTouchMove,se=K.onTouchEnd,Ie=N.rotate,pe=N.scale,xe=ne(te({},"".concat(n,"-moving"),be));o.useEffect(function(){G||P(!0)},[G]);var ze=function(){ee("close")},Ae=function(){H(we+m,"zoomIn")},De=function(){H(we/(we+m),"zoomOut")},de=function(){F({rotate:Ie+90},"rotateRight")},me=function(){F({rotate:Ie-90},"rotateLeft")},Ne=function(){F({flipX:!N.flipX},"flipX")},Pe=function(){F({flipY:!N.flipY},"flipY")},Re=function(L){L?.preventDefault(),L?.stopPropagation(),v>0&&(P(!1),ee("prev"),Y?.(v-1,v))},Ve=function(L){L?.preventDefault(),L?.stopPropagation(),v<O-1&&(P(!1),ee("next"),Y?.(v+1,v))},ft=function(L){!d||!q||(L.keyCode===Xe.LEFT?Re():L.keyCode===Xe.RIGHT&&Ve())},gt=function(L){d&&(pe!==1?F({x:0,y:0,scale:1},"doubleClick"):H(we+m,"doubleClick",L.clientX,L.clientY))};o.useEffect(function(){var J=Ce(window,"keydown",ft,!1);return function(){J.remove()}},[d,q,v]);var Be=ge.createElement(Bt,Q({},D,{width:e.width,height:e.height,imgRef:B,className:"".concat(n,"-img"),alt:a,style:{transform:"translate3d(".concat(N.x,"px, ").concat(N.y,"px, 0) scale3d(").concat(N.flipX?"-":"").concat(pe,", ").concat(N.flipY?"-":"").concat(pe,", 1) rotate(").concat(Ie,"deg)"),transitionDuration:(!G||ae)&&"0s"},fallback:s,src:r,onWheel:ye,onMouseDown:he,onDoubleClick:gt,onTouchStart:re,onTouchMove:ue,onTouchEnd:se,onTouchCancel:se}));return ge.createElement(ge.Fragment,null,ge.createElement(Ct,Q({transitionName:S,maskTransitionName:z,closable:!1,keyboard:!0,prefixCls:n,onClose:u,visible:d,classNames:{wrapper:xe},rootClassName:b,getContainer:C},V,{afterClose:ze}),ge.createElement("div",{className:"".concat(n,"-img-wrapper")},k?k(Be,T({transform:N},U?{current:v}:{})):Be)),ge.createElement(Ht,{visible:d,transform:N,maskTransitionName:z,closeIcon:h,getContainer:C,prefixCls:n,rootClassName:b,icons:f,countRender:E,showSwitch:q,showProgress:oe,current:v,count:O,scale:pe,minScale:p,maxScale:R,toolbarRender:Z,onSwitchLeft:Re,onSwitchRight:Ve,onZoomIn:Ae,onZoomOut:De,onRotateRight:de,onRotateLeft:me,onFlipX:Ne,onFlipY:Pe,onClose:u,zIndex:V.zIndex!==void 0?V.zIndex+1:void 0}))};function Gt(t){var e=o.useState({}),n=A(e,2),r=n[0],a=n[1],s=o.useCallback(function(i,u){return a(function(d){return T(T({},d),{},te({},i,u))}),function(){a(function(d){var g=T({},d);return delete g[i],g})}},[]),c=o.useMemo(function(){return t?t.map(function(i){if(typeof i=="string")return{data:{src:i}};var u={};return Object.keys(i).forEach(function(d){["src"].concat(wt(He)).includes(d)&&(u[d]=i[d])}),{data:u}}):Object.keys(r).reduce(function(i,u){var d=r[u],g=d.canPreview,f=d.data;return g&&i.push({data:f,id:u}),i},[])},[t,r]);return[c,s]}var Ut=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],qt=["src"],Kt=function(e){var n,r=e.previewPrefixCls,a=r===void 0?"rc-image-preview":r,s=e.children,c=e.icons,i=c===void 0?{}:c,u=e.items,d=e.preview,g=e.fallback,f=nt(d)==="object"?d:{},b=f.visible,h=f.onVisibleChange,C=f.getContainer,y=f.current,v=f.movable,w=f.minScale,O=f.maxScale,E=f.countRender,j=f.closeIcon,m=f.onChange,I=f.onTransform,p=f.toolbarRender,x=f.imageRender,R=Se(f,Ut),M=Gt(u),S=A(M,2),_=S[0],z=S[1],k=Ze(0,{value:y}),D=A(k,2),Z=D[0],W=D[1],Y=o.useState(!1),V=A(Y,2),B=V[0],U=V[1],q=((n=_[Z])===null||n===void 0?void 0:n.data)||{},oe=q.src,ie=Se(q,qt),X=Ze(!!b,{value:b,onChange:function(ae,re){h?.(ae,re,Z)}}),G=A(X,2),P=G[0],$=G[1],N=o.useState(null),ee=A(N,2),F=ee[0],H=ee[1],ce=o.useCallback(function(K,ae,re){var ue=_.findIndex(function(se){return se.id===K});$(!0),H({x:ae,y:re}),W(ue<0?0:ue),U(!0)},[_]);o.useEffect(function(){P?B||W(0):U(!1)},[P]);var be=function(ae,re){W(ae),m?.(ae,re)},he=function(){$(!1),H(null)},ye=o.useMemo(function(){return{register:z,onPreview:ce}},[z,ce]);return o.createElement(Oe.Provider,{value:ye},s,o.createElement(ct,Q({"aria-hidden":!P,movable:v,visible:P,prefixCls:a,closeIcon:j,onClose:he,mousePosition:F,imgCommonProps:ie,src:oe,fallback:g,icons:i,minScale:w,maxScale:O,getContainer:C,current:Z,count:_.length,countRender:E,onTransform:I,toolbarRender:p,imageRender:x,onChange:be},R)))},Jt=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],Qt=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],$e=function(e){var n=e.src,r=e.alt,a=e.onPreviewClose,s=e.prefixCls,c=s===void 0?"rc-image":s,i=e.previewPrefixCls,u=i===void 0?"".concat(c,"-preview"):i,d=e.placeholder,g=e.fallback,f=e.width,b=e.height,h=e.style,C=e.preview,y=C===void 0?!0:C,v=e.className,w=e.onClick,O=e.onError,E=e.wrapperClassName,j=e.wrapperStyle,m=e.rootClassName,I=Se(e,Jt),p=d&&d!==!0,x=nt(y)==="object"?y:{},R=x.src,M=x.visible,S=M===void 0?void 0:M,_=x.onVisibleChange,z=_===void 0?a:_,k=x.getContainer,D=k===void 0?void 0:k,Z=x.mask,W=x.maskClassName,Y=x.movable,V=x.icons,B=x.scaleStep,U=x.minScale,q=x.maxScale,oe=x.imageRender,ie=x.toolbarRender,X=Se(x,Qt),G=R??n,P=Ze(!!S,{value:S,onChange:z}),$=A(P,2),N=$[0],ee=$[1],F=st({src:n,isCustomPlaceholder:p,fallback:g}),H=A(F,3),ce=H[0],be=H[1],he=H[2],ye=o.useState(null),K=A(ye,2),ae=K[0],re=K[1],ue=o.useContext(Oe),se=!!y,Ie=function(){ee(!1),re(null)},pe=ne(c,E,m,te({},"".concat(c,"-error"),he==="error")),xe=o.useMemo(function(){var de={};return He.forEach(function(me){e[me]!==void 0&&(de[me]=e[me])}),de},He.map(function(de){return e[de]})),ze=o.useMemo(function(){return T(T({},xe),{},{src:G})},[G,xe]),Ae=zt(se,ze),De=function(me){var Ne=St(me.target),Pe=Ne.left,Re=Ne.top;ue?ue.onPreview(Ae,Pe,Re):(re({x:Pe,y:Re}),ee(!0)),w?.(me)};return o.createElement(o.Fragment,null,o.createElement("div",Q({},I,{className:pe,onClick:se?De:w,style:T({width:f,height:b},j)}),o.createElement("img",Q({},xe,{className:ne("".concat(c,"-img"),te({},"".concat(c,"-img-placeholder"),d===!0),v),style:T({height:b},h),ref:ce},be,{width:f,height:b,onError:O})),he==="loading"&&o.createElement("div",{"aria-hidden":"true",className:"".concat(c,"-placeholder")},d),Z&&se&&o.createElement("div",{className:ne("".concat(c,"-mask"),W),style:{display:h?.display==="none"?"none":void 0}},Z)),!ue&&se&&o.createElement(ct,Q({"aria-hidden":!N,visible:N,prefixCls:u,onClose:Ie,mousePosition:ae,src:G,alt:r,fallback:g,getContainer:D,icons:V,movable:Y,scaleStep:B,minScale:U,maxScale:q,rootClassName:m,imageRender:oe,imgCommonProps:xe,toolbarRender:ie},X)))};$e.PreviewGroup=Kt;$e.displayName="Image";var en={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const tn=en;var nn=function(e,n){return o.createElement(Me,Q({},e,{ref:n,icon:tn}))};const on=o.forwardRef(nn);var an={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const rn=an;var sn=function(e,n){return o.createElement(Me,Q({},e,{ref:n,icon:rn}))};const ln=o.forwardRef(sn);var cn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const un=cn;var dn=function(e,n){return o.createElement(Me,Q({},e,{ref:n,icon:un}))};const Qe=o.forwardRef(dn);var mn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const fn=mn;var gn=function(e,n){return o.createElement(Me,Q({},e,{ref:n,icon:fn}))};const vn=o.forwardRef(gn);var hn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const pn=hn;var xn=function(e,n){return o.createElement(Me,Q({},e,{ref:n,icon:pn}))};const Cn=o.forwardRef(xn),We=t=>({position:t||"absolute",inset:0}),wn=t=>{const{iconCls:e,motionDurationSlow:n,paddingXXS:r,marginXXS:a,prefixCls:s,colorTextLightSolid:c}=t;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:c,background:new ve("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${s}-mask-info`]:Object.assign(Object.assign({},jt),{padding:`0 ${ot(r)}`,[e]:{marginInlineEnd:a,svg:{verticalAlign:"baseline"}}})}},Sn=t=>{const{previewCls:e,modalMaskBg:n,paddingSM:r,marginXL:a,margin:s,paddingLG:c,previewOperationColorDisabled:i,previewOperationHoverColor:u,motionDurationSlow:d,iconCls:g,colorTextLightSolid:f}=t,b=new ve(n).setAlpha(.1),h=b.clone().setAlpha(.2);return{[`${e}-footer`]:{position:"fixed",bottom:a,left:{_skip_check_:!0,value:0},width:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:t.previewOperationColor},[`${e}-progress`]:{marginBottom:s},[`${e}-close`]:{position:"fixed",top:a,right:{_skip_check_:!0,value:a},display:"flex",color:f,backgroundColor:b.toRgbString(),borderRadius:"50%",padding:r,outline:0,border:0,cursor:"pointer",transition:`all ${d}`,"&:hover":{backgroundColor:h.toRgbString()},[`& > ${g}`]:{fontSize:t.previewOperationSize}},[`${e}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${ot(c)}`,backgroundColor:b.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:`all ${d}`,userSelect:"none",[`&:not(${e}-operations-operation-disabled):hover > ${g}`]:{color:u},"&-disabled":{color:i,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${g}`]:{fontSize:t.previewOperationSize}}}}},bn=t=>{const{modalMaskBg:e,iconCls:n,previewOperationColorDisabled:r,previewCls:a,zIndexPopup:s,motionDurationSlow:c}=t,i=new ve(e).setAlpha(.1),u=i.clone().setAlpha(.2);return{[`${a}-switch-left, ${a}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:t.calc(s).add(1).equal({unit:!1}),display:"flex",alignItems:"center",justifyContent:"center",width:t.imagePreviewSwitchSize,height:t.imagePreviewSwitchSize,marginTop:t.calc(t.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:t.previewOperationColor,background:i.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${c}`,userSelect:"none","&:hover":{background:u.toRgbString()},"&-disabled":{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:t.previewOperationSize}},[`${a}-switch-left`]:{insetInlineStart:t.marginSM},[`${a}-switch-right`]:{insetInlineEnd:t.marginSM}}},yn=t=>{const{motionEaseOut:e,previewCls:n,motionDurationSlow:r,componentCls:a}=t;return[{[`${a}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:Object.assign(Object.assign({},We()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${e} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},We()),{transition:`transform ${r} ${e} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${a}-preview-root`]:{[`${n}-wrap`]:{zIndex:t.zIndexPopup}}},{[`${a}-preview-operations-wrapper`]:{position:"fixed",zIndex:t.calc(t.zIndexPopup).add(1).equal({unit:!1})},"&":[Sn(t),bn(t)]}]},In=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",display:"inline-block",[`${e}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${e}-img-placeholder`]:{backgroundColor:t.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${e}-mask`]:Object.assign({},wn(t)),[`${e}-mask:hover`]:{opacity:1},[`${e}-placeholder`]:Object.assign({},We())}}},Rn=t=>{const{previewCls:e}=t;return{[`${e}-root`]:It(t,"zoom"),"&":Rt(t,!0)}},jn=t=>({zIndexPopup:t.zIndexPopupBase+80,previewOperationColor:new ve(t.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new ve(t.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new ve(t.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:t.fontSizeIcon*1.5}),ut=bt("Image",t=>{const e=`${t.componentCls}-preview`,n=Ge(t,{previewCls:e,modalMaskBg:new ve("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:t.controlHeightLG});return[In(n),yn(n),yt(Ge(n,{componentCls:e})),Rn(n)]},jn);var Mn=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const dt={rotateLeft:o.createElement(on,null),rotateRight:o.createElement(ln,null),zoomIn:o.createElement(vn,null),zoomOut:o.createElement(Cn,null),close:o.createElement(Mt,null),left:o.createElement(_e,null),right:o.createElement(Fe,null),flipX:o.createElement(Qe,null),flipY:o.createElement(Qe,{rotate:90})},On=t=>{var{previewPrefixCls:e,preview:n}=t,r=Mn(t,["previewPrefixCls","preview"]);const{getPrefixCls:a}=o.useContext(at),s=a("image",e),c=`${s}-preview`,i=a(),u=rt(s),[d,g,f]=ut(s,u),[b]=it("ImagePreview",typeof n=="object"?n.zIndex:void 0),h=o.useMemo(()=>{var C;if(n===!1)return n;const y=typeof n=="object"?n:{},v=ne(g,f,u,(C=y.rootClassName)!==null&&C!==void 0?C:"");return Object.assign(Object.assign({},y),{transitionName:ke(i,"zoom",y.transitionName),maskTransitionName:ke(i,"fade",y.maskTransitionName),rootClassName:v,zIndex:b})},[n]);return d(o.createElement($e.PreviewGroup,Object.assign({preview:h,previewPrefixCls:c,icons:dt},r)))},Nn=On;var et=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};const mt=t=>{const{prefixCls:e,preview:n,className:r,rootClassName:a,style:s}=t,c=et(t,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:i,locale:u=Ue,getPopupContainer:d,image:g}=o.useContext(at),f=i("image",e),b=i(),h=u.Image||Ue.Image,C=rt(f),[y,v,w]=ut(f,C),O=ne(a,v,w,C),E=ne(r,v,g?.className),[j]=it("ImagePreview",typeof n=="object"?n.zIndex:void 0),m=o.useMemo(()=>{if(n===!1)return n;const p=typeof n=="object"?n:{},{getContainer:x}=p,R=et(p,["getContainer"]);return Object.assign(Object.assign({mask:o.createElement("div",{className:`${f}-mask-info`},o.createElement(Ot,null),h?.preview),icons:dt},R),{getContainer:x||d,transitionName:ke(b,"zoom",p.transitionName),maskTransitionName:ke(b,"fade",p.maskTransitionName),zIndex:j})},[n,h]),I=Object.assign(Object.assign({},g?.style),s);return y(o.createElement($e,Object.assign({prefixCls:f,preview:m,rootClassName:O,className:E,style:I},c)))};mt.PreviewGroup=Nn;const Ee=mt;function Pn({form:t,recordData:e}){const[n,r]=o.useState([]),[a,s]=o.useState([]),[c,i]=o.useState(0),[u,d]=o.useState(0);o.useEffect(()=>{if(console.log(e),e){t.setFieldsValue({store:e.retail_code,campaign_name:e.campaign_name,employee_code:e.employee_name,quatity:e.quantity_cate,time_report:e.images_time,scoring_machine:e.scoring_machine==1?"Đạt":e.scoring_machine==0?"Không đạt":""});let v=[];e.images!=null&&e.images!=""&&(v=JSON.parse(e.images));let w=[];e.image_ai!=null&&e.image_ai!=""&&(w=JSON.parse(e.image_ai)),r(v),s(w)}},[e]);const g=v=>{i(v)},f=v=>{d(v)},b=()=>{c>0&&i(c-1)},h=()=>{c<n.length-1&&i(c+1)},C=()=>{u>0&&d(u-1)},y=()=>{u<a.length-1&&d(u+1)};return l.jsx(l.Fragment,{children:l.jsxs("div",{className:"p-4 pt-6 pb-[40px]",children:[l.jsxs(Ye,{children:[l.jsx(le,{span:8,children:l.jsx(fe,{label:"Khách hàng",name:"store",className:"pt-3",required:!0,children:l.jsx(je,{readOnly:!0})})}),l.jsx(le,{span:8,children:l.jsx(fe,{label:"Chiến dịch",name:"campaign_name",className:"pt-3",required:!0,children:l.jsx(je,{readOnly:!0})})}),l.jsx(le,{span:8,children:l.jsx(fe,{label:"Nhân viên thực hiện",name:"employee_code",className:"pt-3",required:!0,children:l.jsx(je,{readOnly:!0})})})]}),l.jsxs(Ye,{children:[l.jsx(le,{span:8,children:l.jsx(fe,{label:"Thời gian thực hiện",name:"time_report",className:"pt-3",required:!0,children:l.jsx(je,{readOnly:!0})})}),l.jsx(le,{span:8,children:l.jsx(fe,{label:"Chấm điểm trưng bày",name:"scoring_machine",className:"pt-3",required:!0,children:l.jsx(je,{readOnly:!0,style:{color:e&&e.scoring_machine===1?"green":e&&e.scoring_machine===0?"red":"black"}})})}),l.jsx(le,{span:8})]}),l.jsxs(Ye,{children:[l.jsx(le,{span:8,children:l.jsxs(fe,{label:"Hình ảnh cửa hàng",className:"pt-3",required:!0,children:[l.jsxs("div",{style:{position:"relative",width:"100%",height:"auto",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"},children:[l.jsx(Ee,{src:n[c],style:{maxWidth:"100%",maxHeight:"100%",objectFit:"cover",alignSelf:"center",borderRadius:"10px"}}),l.jsx("div",{onClick:b,style:{height:"50px",width:"35px",display:"flex",justifyContent:"center",borderRadius:"5px",position:"absolute",top:"50%",left:"10px",transform:"translateY(-50%)",cursor:"pointer",fontSize:"24px",zIndex:1,backgroundColor:"rgba(0, 0, 0, 0.2)"},children:l.jsx(_e,{onClick:b,style:{color:"white"}})}),l.jsx("div",{onClick:h,style:{height:"50px",width:"35px",display:"flex",justifyContent:"center",borderRadius:"5px",position:"absolute",top:"50%",right:"10px",transform:"translateY(-50%)",cursor:"pointer",fontSize:"24px",zIndex:1,backgroundColor:"rgba(0, 0, 0, 0.2)"},children:l.jsx(Fe,{onClick:h,style:{color:"white"}})})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-start",gap:"10px",overflowX:"hidden",marginTop:"10px"},children:n.map((v,w)=>l.jsx(Ee,{src:v,onClick:()=>g(w),style:{width:"80px",height:"80px",objectFit:"cover",cursor:"pointer",borderRadius:"10px"},preview:!1},w))})]})}),l.jsx(le,{span:8,children:l.jsxs(fe,{label:"Hình ảnh AI trả về",className:"pt-3",required:!0,children:[l.jsxs("div",{style:{position:"relative",width:"100%",height:"auto",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"},children:[l.jsx(Ee,{src:a[u],style:{maxWidth:"100%",maxHeight:"100%",objectFit:"cover",alignSelf:"center",borderRadius:"10px"}}),l.jsx("div",{onClick:C,style:{height:"50px",width:"35px",display:"flex",justifyContent:"center",borderRadius:"5px",position:"absolute",top:"50%",left:"10px",transform:"translateY(-50%)",cursor:"pointer",fontSize:"24px",zIndex:1,backgroundColor:"rgba(0, 0, 0, 0.2)"},children:l.jsx(_e,{onClick:C,style:{color:"white"}})}),l.jsx("div",{onClick:y,style:{height:"50px",width:"35px",display:"flex",justifyContent:"center",borderRadius:"5px",position:"absolute",top:"50%",right:"10px",transform:"translateY(-50%)",cursor:"pointer",fontSize:"24px",zIndex:1,backgroundColor:"rgba(0, 0, 0, 0.2)"},children:l.jsx(Fe,{onClick:y,style:{color:"white"}})})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-start",gap:"10px",overflowX:"hidden",marginTop:"10px"},children:a.map((v,w)=>l.jsx(Ee,{src:v,onClick:()=>f(w),style:{width:"80px",height:"80px",objectFit:"cover",cursor:"pointer",borderRadius:"10px"},preview:!1},w))})]})}),l.jsx(le,{span:8})]})]})})}function Tn(t){const e={};console.log(t.recordData),t.recordData?.detail.forEach(c=>{const i=c.category,u=1;e[i]=(e[i]||0)+u});const n=t.recordData?.category_names.map((c,i)=>{const u=Object.keys(c)[0];return{key:i.toString(),stt:(i+1).toString(),categoryName:Object.values(c)[0],number_product:e[u]||0}}),r=[{title:"STT",dataIndex:"stt"},{title:"Tên sản phẩm",dataIndex:"name_product"},{title:"Số lượng sản phẩm máy chấm",dataIndex:"sum_product"},{title:"Chấm điểm trưng bày",dataIndex:"scoring_machine",render:c=>l.jsxs(l.Fragment,{children:[c===1&&l.jsxs("span",{style:{display:"flex"},children:[l.jsx(Lt,{style:{fontSize:"17px",color:"green",paddingRight:"3px"}})," ",l.jsx("span",{style:{color:"green",verticalAlign:"middle"},children:"Đạt"})]}),c===0&&l.jsxs("span",{style:{display:"flex"},children:[l.jsx($t,{style:{fontSize:"17px",color:"red",paddingRight:"3px"}})," ",l.jsx("span",{style:{color:"red",verticalAlign:"middle"},children:"Không đạt"})]})]})}],a=[{title:"STT",dataIndex:"stt"},{title:"Danh mục sản phẩm",dataIndex:"categoryName"},{title:"Số lượng sản phẩm",dataIndex:"number_product"}],s=t.recordData?.category_names.map((c,i)=>{const u=Object.keys(c)[0];return(t.recordData?.detail.filter(g=>g.category===u)).map((g,f)=>({key:`${i}-${f}`,stt:`${(f+1).toString().padStart(2,"0")}`,name_product:g.product_name,sum_product:g.sum_product.toString(),image:g.images,creation:g.creation,scoring_machine:g.scoring_machine}))});return l.jsx(l.Fragment,{children:l.jsx(Nt,{columns:a,expandable:{expandedRowRender:(c,i)=>l.jsx("div",{style:{margin:5},children:l.jsx(Pt,{columns:r,dataSource:s[i],pagination:!1})}),rowExpandable:c=>s[c.key].length>0},dataSource:n})})}function En(){const[t,e]=o.useState(null),n=Tt(),r=i=>{},[a]=qe.useForm(),s=[{key:"1",label:l.jsx("span",{style:{fontWeight:700},children:"Thông tin chung"}),children:l.jsx(Pn,{form:a,recordData:t})},{key:"2",label:l.jsx("span",{style:{fontWeight:700},children:"Sản phẩm"}),children:l.jsx(Tn,{recordData:t})}];o.useEffect(()=>{const i=localStorage.getItem("recordData");i&&e(JSON.parse(i)),localStorage.removeItem("recordData")},[]);const c=()=>t?`${t.retail_code} - ${t.campaign_name}`:"Tiêu đề";return l.jsxs(l.Fragment,{children:[l.jsx(Et,{title:c(),icon:l.jsx("p",{onClick:()=>n("/"),className:"mr-2 cursor-pointer",children:l.jsx(_e,{})})}),l.jsx("div",{className:"bg-white  rounded-xl",children:l.jsx(qe,{layout:"vertical",form:a,children:l.jsx(_t,{items:s,defaultActiveKey:["1","2"],onChange:r,className:"custom-collapse"})})})]})}function Ln(){return l.jsxs(l.Fragment,{children:[l.jsx(kt,{children:l.jsx("title",{children:"BÁO CÁO"})}),l.jsx(En,{})]})}export{Ln as default};
