import{r as o,aA as A,aM as pt,aN as xt,af as T,aO as ot,ab as te,aP as we,c as ne,ar as Ct,aQ as wt,K as Xe,ae as be,R as fe,_ as Q,aR as St,q as bt,aj as at,O as He,aS as yt,e as je,k as It,m as Be,aT as ve,aU as Rt,aV as _t,an as jt,al as Ot,l as rt,aE as Mt,aK as Ee,aW as Ze,h as it,aX as st,aY as lt,aZ as ke,ay as Ke,aq as Nt,j as i,aG as De,C as le,g as ge,Z as Ce,S as Ge,T as Pt,a3 as Tt,u as Et,F as qe,H as kt,aH as Lt,A as zt,s as Je,d as $t}from"./main--OB17fI9.js";import{C as At,a as Yt}from"./CloseCircleOutlined-qmVH9z6Y.js";var Fe=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"],Oe=o.createContext(null),Qe=0;function Dt(t,e){var n=o.useState(function(){return Qe+=1,String(Qe)}),a=A(n,1),r=a[0],s=o.useContext(Oe),v={data:e,canPreview:t};return o.useEffect(function(){if(s)return s.register(r,v)},[]),o.useEffect(function(){s&&s.register(r,v)},[t,e]),r}function Xt(t){return new Promise(function(e){var n=document.createElement("img");n.onerror=function(){return e(!1)},n.onload=function(){return e(!0)},n.src=t})}function ct(t){var e=t.src,n=t.isCustomPlaceholder,a=t.fallback,r=o.useState(n?"loading":"normal"),s=A(r,2),v=s[0],c=s[1],m=o.useRef(!1),l=v==="error";o.useEffect(function(){var g=!0;return Xt(e).then(function(p){!p&&g&&c("error")}),function(){g=!1}},[e]),o.useEffect(function(){n&&!m.current?c("loading"):l&&c("normal")},[e]);var d=function(){c("normal")},u=function(p){m.current=!1,v==="loading"&&p!==null&&p!==void 0&&p.complete&&(p.naturalWidth||p.naturalHeight)&&(m.current=!0,d())},b=l&&a?{src:a}:{onLoad:d,src:e};return[u,b,v]}var Pe={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function Ht(t,e,n,a){var r=o.useRef(null),s=o.useRef([]),v=o.useState(Pe),c=A(v,2),m=c[0],l=c[1],d=function(p){l(Pe),a&&!pt(Pe,m)&&a({transform:Pe,action:p})},u=function(p,y){r.current===null&&(s.current=[],r.current=xt(function(){l(function(C){var S=C;return s.current.forEach(function(R){S=T(T({},S),R)}),r.current=null,a?.({transform:S,action:y}),S})})),s.current.push(T(T({},m),p))},b=function(p,y,C,S,R){var j=t.current,_=j.width,f=j.height,x=j.offsetWidth,h=j.offsetHeight,w=j.offsetLeft,O=j.offsetTop,M=p,I=m.scale*p;I>n?(I=n,M=n/m.scale):I<e&&(I=R?I:e,M=I/m.scale);var E=C??innerWidth/2,$=S??innerHeight/2,k=M-1,Y=k*_*.5,H=k*f*.5,V=k*(E-m.x-w),D=k*($-m.y-O),U=m.x-(V-Y),W=m.y-(D-H);if(p<1&&I===1){var K=x*I,G=h*I,oe=ot(),ie=oe.width,X=oe.height;K<=ie&&G<=X&&(U=0,W=0)}u({x:U,y:W,scale:I},y)};return{transform:m,resetTransform:d,updateTransform:u,dispatchZoomChange:b}}function et(t,e,n,a){var r=e+n,s=(n-a)/2;if(n>a){if(e>0)return te({},t,s);if(e<0&&r<a)return te({},t,-s)}else if(e<0||r>a)return te({},t,e<0?s:-s);return{}}function ut(t,e,n,a){var r=ot(),s=r.width,v=r.height,c=null;return t<=s&&e<=v?c={x:0,y:0}:(t>s||e>v)&&(c=T(T({},et("x",n,t,s)),et("y",a,e,v))),c}var Se=1,Zt=1;function Ft(t,e,n,a,r,s,v){var c=r.rotate,m=r.scale,l=r.x,d=r.y,u=o.useState(!1),b=A(u,2),g=b[0],p=b[1],y=o.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),C=function(f){!e||f.button!==0||(f.preventDefault(),f.stopPropagation(),y.current={diffX:f.pageX-l,diffY:f.pageY-d,transformX:l,transformY:d},p(!0))},S=function(f){n&&g&&s({x:f.pageX-y.current.diffX,y:f.pageY-y.current.diffY},"move")},R=function(){if(n&&g){p(!1);var f=y.current,x=f.transformX,h=f.transformY,w=l!==x&&d!==h;if(!w)return;var O=t.current.offsetWidth*m,M=t.current.offsetHeight*m,I=t.current.getBoundingClientRect(),E=I.left,$=I.top,k=c%180!==0,Y=ut(k?M:O,k?O:M,E,$);Y&&s(T({},Y),"dragRebound")}},j=function(f){if(!(!n||f.deltaY==0)){var x=Math.abs(f.deltaY/100),h=Math.min(x,Zt),w=Se+h*a;f.deltaY>0&&(w=Se/w),v(w,"wheel",f.clientX,f.clientY)}};return o.useEffect(function(){var _,f,x,h;if(e){x=we(window,"mouseup",R,!1),h=we(window,"mousemove",S,!1);try{window.top!==window.self&&(_=we(window.top,"mouseup",R,!1),f=we(window.top,"mousemove",S,!1))}catch{}}return function(){var w,O,M,I;(w=x)===null||w===void 0||w.remove(),(O=h)===null||O===void 0||O.remove(),(M=_)===null||M===void 0||M.remove(),(I=f)===null||I===void 0||I.remove()}},[n,g,l,d,c,e]),{isMoving:g,onMouseDown:C,onMouseMove:S,onMouseUp:R,onWheel:j}}function Le(t,e){var n=t.x-e.x,a=t.y-e.y;return Math.hypot(n,a)}function Vt(t,e,n,a){var r=Le(t,n),s=Le(e,a);if(r===0&&s===0)return[t.x,t.y];var v=r/(r+s),c=t.x+v*(e.x-t.x),m=t.y+v*(e.y-t.y);return[c,m]}function Ut(t,e,n,a,r,s,v){var c=r.rotate,m=r.scale,l=r.x,d=r.y,u=o.useState(!1),b=A(u,2),g=b[0],p=b[1],y=o.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),C=function(f){y.current=T(T({},y.current),f)},S=function(f){if(e){f.stopPropagation(),p(!0);var x=f.touches,h=x===void 0?[]:x;h.length>1?C({point1:{x:h[0].clientX,y:h[0].clientY},point2:{x:h[1].clientX,y:h[1].clientY},eventType:"touchZoom"}):C({point1:{x:h[0].clientX-l,y:h[0].clientY-d},eventType:"move"})}},R=function(f){var x=f.touches,h=x===void 0?[]:x,w=y.current,O=w.point1,M=w.point2,I=w.eventType;if(h.length>1&&I==="touchZoom"){var E={x:h[0].clientX,y:h[0].clientY},$={x:h[1].clientX,y:h[1].clientY},k=Vt(O,M,E,$),Y=A(k,2),H=Y[0],V=Y[1],D=Le(E,$)/Le(O,M);v(D,"touchZoom",H,V,!0),C({point1:E,point2:$,eventType:"touchZoom"})}else I==="move"&&(s({x:h[0].clientX-O.x,y:h[0].clientY-O.y},"move"),C({eventType:"move"}))},j=function(){if(n){if(g&&p(!1),C({eventType:"none"}),a>m)return s({x:0,y:0,scale:a},"touchZoom");var f=t.current.offsetWidth*m,x=t.current.offsetHeight*m,h=t.current.getBoundingClientRect(),w=h.left,O=h.top,M=c%180!==0,I=ut(M?x:f,M?f:x,w,O);I&&s(T({},I),"dragRebound")}};return o.useEffect(function(){var _;return n&&e&&(_=we(window,"touchmove",function(f){return f.preventDefault()},{passive:!1})),function(){var f;(f=_)===null||f===void 0||f.remove()}},[n,e]),{isTouching:g,onTouchStart:S,onTouchMove:R,onTouchEnd:j}}var Wt=function(e){var n=e.visible,a=e.maskTransitionName,r=e.getContainer,s=e.prefixCls,v=e.rootClassName,c=e.icons,m=e.countRender,l=e.showSwitch,d=e.showProgress,u=e.current,b=e.transform,g=e.count,p=e.scale,y=e.minScale,C=e.maxScale,S=e.closeIcon,R=e.onSwitchLeft,j=e.onSwitchRight,_=e.onClose,f=e.onZoomIn,x=e.onZoomOut,h=e.onRotateRight,w=e.onRotateLeft,O=e.onFlipX,M=e.onFlipY,I=e.toolbarRender,E=e.zIndex,$=o.useContext(Oe),k=c.rotateLeft,Y=c.rotateRight,H=c.zoomIn,V=c.zoomOut,D=c.close,U=c.left,W=c.right,K=c.flipX,G=c.flipY,oe="".concat(s,"-operations-operation");o.useEffect(function(){var P=function(N){N.keyCode===Xe.ESC&&_()};return n&&window.addEventListener("keydown",P),function(){window.removeEventListener("keydown",P)}},[n]);var ie=[{icon:G,onClick:M,type:"flipY"},{icon:K,onClick:O,type:"flipX"},{icon:k,onClick:w,type:"rotateLeft"},{icon:Y,onClick:h,type:"rotateRight"},{icon:V,onClick:x,type:"zoomOut",disabled:p<=y},{icon:H,onClick:f,type:"zoomIn",disabled:p===C}],X=ie.map(function(P){var z,N=P.icon,ee=P.onClick,Z=P.type,F=P.disabled;return o.createElement("div",{className:ne(oe,(z={},te(z,"".concat(s,"-operations-operation-").concat(Z),!0),te(z,"".concat(s,"-operations-operation-disabled"),!!F),z)),onClick:ee,key:Z},N)}),B=o.createElement("div",{className:"".concat(s,"-operations")},X);return o.createElement(Ct,{visible:n,motionName:a},function(P){var z=P.className,N=P.style;return o.createElement(wt,{open:!0,getContainer:r??document.body},o.createElement("div",{className:ne("".concat(s,"-operations-wrapper"),z,v),style:T(T({},N),{},{zIndex:E})},S===null?null:o.createElement("button",{className:"".concat(s,"-close"),onClick:_},S||D),l&&o.createElement(o.Fragment,null,o.createElement("div",{className:ne("".concat(s,"-switch-left"),te({},"".concat(s,"-switch-left-disabled"),u===0)),onClick:R},U),o.createElement("div",{className:ne("".concat(s,"-switch-right"),te({},"".concat(s,"-switch-right-disabled"),u===g-1)),onClick:j},W)),o.createElement("div",{className:"".concat(s,"-footer")},d&&o.createElement("div",{className:"".concat(s,"-progress")},m?m(u+1,g):"".concat(u+1," / ").concat(g)),I?I(B,T({icons:{flipYIcon:X[0],flipXIcon:X[1],rotateLeftIcon:X[2],rotateRightIcon:X[3],zoomOutIcon:X[4],zoomInIcon:X[5]},actions:{onFlipY:M,onFlipX:O,onRotateLeft:w,onRotateRight:h,onZoomOut:x,onZoomIn:f},transform:b},$?{current:u,total:g}:{})):B)))})},Bt=["fallback","src","imgRef"],Kt=["prefixCls","src","alt","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],Gt=function(e){var n=e.fallback,a=e.src,r=e.imgRef,s=be(e,Bt),v=ct({src:a,fallback:n}),c=A(v,2),m=c[0],l=c[1];return fe.createElement("img",Q({ref:function(u){r.current=u,m(u)}},s,l))},dt=function(e){var n=e.prefixCls,a=e.src,r=e.alt,s=e.fallback,v=e.movable,c=v===void 0?!0:v,m=e.onClose,l=e.visible,d=e.icons,u=d===void 0?{}:d,b=e.rootClassName,g=e.closeIcon,p=e.getContainer,y=e.current,C=y===void 0?0:y,S=e.count,R=S===void 0?1:S,j=e.countRender,_=e.scaleStep,f=_===void 0?.5:_,x=e.minScale,h=x===void 0?1:x,w=e.maxScale,O=w===void 0?50:w,M=e.transitionName,I=M===void 0?"zoom":M,E=e.maskTransitionName,$=E===void 0?"fade":E,k=e.imageRender,Y=e.imgCommonProps,H=e.toolbarRender,V=e.onTransform,D=e.onChange,U=be(e,Kt),W=o.useRef(),K=o.useContext(Oe),G=K&&R>1,oe=K&&R>=1,ie=o.useState(!0),X=A(ie,2),B=X[0],P=X[1],z=Ht(W,h,O,V),N=z.transform,ee=z.resetTransform,Z=z.updateTransform,F=z.dispatchZoomChange,ce=Ft(W,c,l,f,N,Z,F),ye=ce.isMoving,he=ce.onMouseDown,Ie=ce.onWheel,q=Ut(W,c,l,h,N,Z,F),ae=q.isTouching,re=q.onTouchStart,ue=q.onTouchMove,se=q.onTouchEnd,Re=N.rotate,pe=N.scale,xe=ne(te({},"".concat(n,"-moving"),ye));o.useEffect(function(){B||P(!0)},[B]);var $e=function(){ee("close")},Ae=function(){F(Se+f,"zoomIn")},Ye=function(){F(Se/(Se+f),"zoomOut")},de=function(){Z({rotate:Re+90},"rotateRight")},me=function(){Z({rotate:Re-90},"rotateLeft")},Me=function(){Z({flipX:!N.flipX},"flipX")},Ne=function(){Z({flipY:!N.flipY},"flipY")},_e=function(L){L?.preventDefault(),L?.stopPropagation(),C>0&&(P(!1),ee("prev"),D?.(C-1,C))},Ue=function(L){L?.preventDefault(),L?.stopPropagation(),C<R-1&&(P(!1),ee("next"),D?.(C+1,C))},vt=function(L){!l||!G||(L.keyCode===Xe.LEFT?_e():L.keyCode===Xe.RIGHT&&Ue())},ht=function(L){l&&(pe!==1?Z({x:0,y:0,scale:1},"doubleClick"):F(Se+f,"doubleClick",L.clientX,L.clientY))};o.useEffect(function(){var J=we(window,"keydown",vt,!1);return function(){J.remove()}},[l,G,C]);var We=fe.createElement(Gt,Q({},Y,{width:e.width,height:e.height,imgRef:W,className:"".concat(n,"-img"),alt:r,style:{transform:"translate3d(".concat(N.x,"px, ").concat(N.y,"px, 0) scale3d(").concat(N.flipX?"-":"").concat(pe,", ").concat(N.flipY?"-":"").concat(pe,", 1) rotate(").concat(Re,"deg)"),transitionDuration:(!B||ae)&&"0s"},fallback:s,src:a,onWheel:Ie,onMouseDown:he,onDoubleClick:ht,onTouchStart:re,onTouchMove:ue,onTouchEnd:se,onTouchCancel:se}));return fe.createElement(fe.Fragment,null,fe.createElement(St,Q({transitionName:I,maskTransitionName:$,closable:!1,keyboard:!0,prefixCls:n,onClose:m,visible:l,classNames:{wrapper:xe},rootClassName:b,getContainer:p},U,{afterClose:$e}),fe.createElement("div",{className:"".concat(n,"-img-wrapper")},k?k(We,T({transform:N},K?{current:C}:{})):We)),fe.createElement(Wt,{visible:l,transform:N,maskTransitionName:$,closeIcon:g,getContainer:p,prefixCls:n,rootClassName:b,icons:u,countRender:j,showSwitch:G,showProgress:oe,current:C,count:R,scale:pe,minScale:h,maxScale:O,toolbarRender:H,onSwitchLeft:_e,onSwitchRight:Ue,onZoomIn:Ae,onZoomOut:Ye,onRotateRight:de,onRotateLeft:me,onFlipX:Me,onFlipY:Ne,onClose:m,zIndex:U.zIndex!==void 0?U.zIndex+1:void 0}))};function qt(t){var e=o.useState({}),n=A(e,2),a=n[0],r=n[1],s=o.useCallback(function(c,m){return r(function(l){return T(T({},l),{},te({},c,m))}),function(){r(function(l){var d=T({},l);return delete d[c],d})}},[]),v=o.useMemo(function(){return t?t.map(function(c){if(typeof c=="string")return{data:{src:c}};var m={};return Object.keys(c).forEach(function(l){["src"].concat(bt(Fe)).includes(l)&&(m[l]=c[l])}),{data:m}}):Object.keys(a).reduce(function(c,m){var l=a[m],d=l.canPreview,u=l.data;return d&&c.push({data:u,id:m}),c},[])},[t,a]);return[v,s]}var Jt=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],Qt=["src"],en=function(e){var n,a=e.previewPrefixCls,r=a===void 0?"rc-image-preview":a,s=e.children,v=e.icons,c=v===void 0?{}:v,m=e.items,l=e.preview,d=e.fallback,u=at(l)==="object"?l:{},b=u.visible,g=u.onVisibleChange,p=u.getContainer,y=u.current,C=u.movable,S=u.minScale,R=u.maxScale,j=u.countRender,_=u.closeIcon,f=u.onChange,x=u.onTransform,h=u.toolbarRender,w=u.imageRender,O=be(u,Jt),M=qt(m),I=A(M,2),E=I[0],$=I[1],k=He(0,{value:y}),Y=A(k,2),H=Y[0],V=Y[1],D=o.useState(!1),U=A(D,2),W=U[0],K=U[1],G=((n=E[H])===null||n===void 0?void 0:n.data)||{},oe=G.src,ie=be(G,Qt),X=He(!!b,{value:b,onChange:function(ae,re){g?.(ae,re,H)}}),B=A(X,2),P=B[0],z=B[1],N=o.useState(null),ee=A(N,2),Z=ee[0],F=ee[1],ce=o.useCallback(function(q,ae,re){var ue=E.findIndex(function(se){return se.id===q});z(!0),F({x:ae,y:re}),V(ue<0?0:ue),K(!0)},[E]);o.useEffect(function(){P?W||V(0):K(!1)},[P]);var ye=function(ae,re){V(ae),f?.(ae,re)},he=function(){z(!1),F(null)},Ie=o.useMemo(function(){return{register:$,onPreview:ce}},[$,ce]);return o.createElement(Oe.Provider,{value:Ie},s,o.createElement(dt,Q({"aria-hidden":!P,movable:C,visible:P,prefixCls:r,closeIcon:_,onClose:he,mousePosition:Z,imgCommonProps:ie,src:oe,fallback:d,icons:c,minScale:S,maxScale:R,getContainer:p,current:H,count:E.length,countRender:j,onTransform:x,toolbarRender:h,imageRender:w,onChange:ye},O)))},tn=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],nn=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],ze=function(e){var n=e.src,a=e.alt,r=e.onPreviewClose,s=e.prefixCls,v=s===void 0?"rc-image":s,c=e.previewPrefixCls,m=c===void 0?"".concat(v,"-preview"):c,l=e.placeholder,d=e.fallback,u=e.width,b=e.height,g=e.style,p=e.preview,y=p===void 0?!0:p,C=e.className,S=e.onClick,R=e.onError,j=e.wrapperClassName,_=e.wrapperStyle,f=e.rootClassName,x=be(e,tn),h=l&&l!==!0,w=at(y)==="object"?y:{},O=w.src,M=w.visible,I=M===void 0?void 0:M,E=w.onVisibleChange,$=E===void 0?r:E,k=w.getContainer,Y=k===void 0?void 0:k,H=w.mask,V=w.maskClassName,D=w.movable,U=w.icons,W=w.scaleStep,K=w.minScale,G=w.maxScale,oe=w.imageRender,ie=w.toolbarRender,X=be(w,nn),B=O??n,P=He(!!I,{value:I,onChange:$}),z=A(P,2),N=z[0],ee=z[1],Z=ct({src:n,isCustomPlaceholder:h,fallback:d}),F=A(Z,3),ce=F[0],ye=F[1],he=F[2],Ie=o.useState(null),q=A(Ie,2),ae=q[0],re=q[1],ue=o.useContext(Oe),se=!!y,Re=function(){ee(!1),re(null)},pe=ne(v,j,f,te({},"".concat(v,"-error"),he==="error")),xe=o.useMemo(function(){var de={};return Fe.forEach(function(me){e[me]!==void 0&&(de[me]=e[me])}),de},Fe.map(function(de){return e[de]})),$e=o.useMemo(function(){return T(T({},xe),{},{src:B})},[B,xe]),Ae=Dt(se,$e),Ye=function(me){var Me=yt(me.target),Ne=Me.left,_e=Me.top;ue?ue.onPreview(Ae,Ne,_e):(re({x:Ne,y:_e}),ee(!0)),S?.(me)};return o.createElement(o.Fragment,null,o.createElement("div",Q({},x,{className:pe,onClick:se?Ye:S,style:T({width:u,height:b},_)}),o.createElement("img",Q({},xe,{className:ne("".concat(v,"-img"),te({},"".concat(v,"-img-placeholder"),l===!0),C),style:T({height:b},g),ref:ce},ye,{width:u,height:b,onError:R})),he==="loading"&&o.createElement("div",{"aria-hidden":"true",className:"".concat(v,"-placeholder")},l),H&&se&&o.createElement("div",{className:ne("".concat(v,"-mask"),V),style:{display:g?.display==="none"?"none":void 0}},H)),!ue&&se&&o.createElement(dt,Q({"aria-hidden":!N,visible:N,prefixCls:m,onClose:Re,mousePosition:ae,src:B,alt:a,fallback:d,getContainer:Y,icons:U,movable:D,scaleStep:W,minScale:K,maxScale:G,rootClassName:f,imageRender:oe,imgCommonProps:xe,toolbarRender:ie},X)))};ze.PreviewGroup=en;ze.displayName="Image";var on={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const an=on;var rn=function(e,n){return o.createElement(je,Q({},e,{ref:n,icon:an}))};const sn=o.forwardRef(rn);var ln={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const cn=ln;var un=function(e,n){return o.createElement(je,Q({},e,{ref:n,icon:cn}))};const dn=o.forwardRef(un);var mn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const gn=mn;var fn=function(e,n){return o.createElement(je,Q({},e,{ref:n,icon:gn}))};const tt=o.forwardRef(fn);var vn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const hn=vn;var pn=function(e,n){return o.createElement(je,Q({},e,{ref:n,icon:hn}))};const xn=o.forwardRef(pn);var Cn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const wn=Cn;var Sn=function(e,n){return o.createElement(je,Q({},e,{ref:n,icon:wn}))};const bn=o.forwardRef(Sn),Ve=t=>({position:t||"absolute",inset:0}),yn=t=>{const{iconCls:e,motionDurationSlow:n,paddingXXS:a,marginXXS:r,prefixCls:s,colorTextLightSolid:v}=t;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:v,background:new ve("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${s}-mask-info`]:Object.assign(Object.assign({},Ot),{padding:`0 ${rt(a)}`,[e]:{marginInlineEnd:r,svg:{verticalAlign:"baseline"}}})}},In=t=>{const{previewCls:e,modalMaskBg:n,paddingSM:a,marginXL:r,margin:s,paddingLG:v,previewOperationColorDisabled:c,previewOperationHoverColor:m,motionDurationSlow:l,iconCls:d,colorTextLightSolid:u}=t,b=new ve(n).setAlpha(.1),g=b.clone().setAlpha(.2);return{[`${e}-footer`]:{position:"fixed",bottom:r,left:{_skip_check_:!0,value:0},width:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:t.previewOperationColor},[`${e}-progress`]:{marginBottom:s},[`${e}-close`]:{position:"fixed",top:r,right:{_skip_check_:!0,value:r},display:"flex",color:u,backgroundColor:b.toRgbString(),borderRadius:"50%",padding:a,outline:0,border:0,cursor:"pointer",transition:`all ${l}`,"&:hover":{backgroundColor:g.toRgbString()},[`& > ${d}`]:{fontSize:t.previewOperationSize}},[`${e}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${rt(v)}`,backgroundColor:b.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:a,padding:a,cursor:"pointer",transition:`all ${l}`,userSelect:"none",[`&:not(${e}-operations-operation-disabled):hover > ${d}`]:{color:m},"&-disabled":{color:c,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${d}`]:{fontSize:t.previewOperationSize}}}}},Rn=t=>{const{modalMaskBg:e,iconCls:n,previewOperationColorDisabled:a,previewCls:r,zIndexPopup:s,motionDurationSlow:v}=t,c=new ve(e).setAlpha(.1),m=c.clone().setAlpha(.2);return{[`${r}-switch-left, ${r}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:t.calc(s).add(1).equal({unit:!1}),display:"flex",alignItems:"center",justifyContent:"center",width:t.imagePreviewSwitchSize,height:t.imagePreviewSwitchSize,marginTop:t.calc(t.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:t.previewOperationColor,background:c.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${v}`,userSelect:"none","&:hover":{background:m.toRgbString()},"&-disabled":{"&, &:hover":{color:a,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:t.previewOperationSize}},[`${r}-switch-left`]:{insetInlineStart:t.marginSM},[`${r}-switch-right`]:{insetInlineEnd:t.marginSM}}},_n=t=>{const{motionEaseOut:e,previewCls:n,motionDurationSlow:a,componentCls:r}=t;return[{[`${r}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:Object.assign(Object.assign({},Ve()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${a} ${e} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},Ve()),{transition:`transform ${a} ${e} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${r}-preview-root`]:{[`${n}-wrap`]:{zIndex:t.zIndexPopup}}},{[`${r}-preview-operations-wrapper`]:{position:"fixed",zIndex:t.calc(t.zIndexPopup).add(1).equal({unit:!1})},"&":[In(t),Rn(t)]}]},jn=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",display:"inline-block",[`${e}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${e}-img-placeholder`]:{backgroundColor:t.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${e}-mask`]:Object.assign({},yn(t)),[`${e}-mask:hover`]:{opacity:1},[`${e}-placeholder`]:Object.assign({},Ve())}}},On=t=>{const{previewCls:e}=t;return{[`${e}-root`]:_t(t,"zoom"),"&":jt(t,!0)}},Mn=t=>({zIndexPopup:t.zIndexPopupBase+80,previewOperationColor:new ve(t.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new ve(t.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new ve(t.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:t.fontSizeIcon*1.5}),mt=It("Image",t=>{const e=`${t.componentCls}-preview`,n=Be(t,{previewCls:e,modalMaskBg:new ve("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:t.controlHeightLG});return[jn(n),_n(n),Rt(Be(n,{componentCls:e})),On(n)]},Mn);var Nn=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n};const gt={rotateLeft:o.createElement(sn,null),rotateRight:o.createElement(dn,null),zoomIn:o.createElement(xn,null),zoomOut:o.createElement(bn,null),close:o.createElement(Mt,null),left:o.createElement(Ee,null),right:o.createElement(Ze,null),flipX:o.createElement(tt,null),flipY:o.createElement(tt,{rotate:90})},Pn=t=>{var{previewPrefixCls:e,preview:n}=t,a=Nn(t,["previewPrefixCls","preview"]);const{getPrefixCls:r}=o.useContext(it),s=r("image",e),v=`${s}-preview`,c=r(),m=st(s),[l,d,u]=mt(s,m),[b]=lt("ImagePreview",typeof n=="object"?n.zIndex:void 0),g=o.useMemo(()=>{var p;if(n===!1)return n;const y=typeof n=="object"?n:{},C=ne(d,u,m,(p=y.rootClassName)!==null&&p!==void 0?p:"");return Object.assign(Object.assign({},y),{transitionName:ke(c,"zoom",y.transitionName),maskTransitionName:ke(c,"fade",y.maskTransitionName),rootClassName:C,zIndex:b})},[n]);return l(o.createElement(ze.PreviewGroup,Object.assign({preview:g,previewPrefixCls:v,icons:gt},a)))},Tn=Pn;var nt=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(n[a[r]]=t[a[r]]);return n};const ft=t=>{const{prefixCls:e,preview:n,className:a,rootClassName:r,style:s}=t,v=nt(t,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:c,locale:m=Ke,getPopupContainer:l,image:d}=o.useContext(it),u=c("image",e),b=c(),g=m.Image||Ke.Image,p=st(u),[y,C,S]=mt(u,p),R=ne(r,C,S,p),j=ne(a,C,d?.className),[_]=lt("ImagePreview",typeof n=="object"?n.zIndex:void 0),f=o.useMemo(()=>{if(n===!1)return n;const h=typeof n=="object"?n:{},{getContainer:w}=h,O=nt(h,["getContainer"]);return Object.assign(Object.assign({mask:o.createElement("div",{className:`${u}-mask-info`},o.createElement(Nt,null),g?.preview),icons:gt},O),{getContainer:w||l,transitionName:ke(b,"zoom",h.transitionName),maskTransitionName:ke(b,"fade",h.maskTransitionName),zIndex:_})},[n,g]),x=Object.assign(Object.assign({},d?.style),s);return y(o.createElement(ze,Object.assign({prefixCls:u,preview:f,rootClassName:R,className:j,style:x},v)))};ft.PreviewGroup=Tn;const Te=ft;function En({form:t,recordData:e,onChangeScoringHuman:n}){const[a,r]=o.useState([]),[s,v]=o.useState([]),[c,m]=o.useState(0),[l,d]=o.useState(0),[u,b]=o.useState(0),[g,p]=o.useState([{label:"Đạt",value:1},{label:"Không đạt",value:0}]);o.useEffect(()=>{if(e){t.setFieldsValue({store:e.customer_name,campaign_name:e.campaign_name,employee_code:e.employee_name,quatity:e.quantity_cate,time_report:e.images_time,scoring_machine:e.scoring_machine==1?"Đạt":e.scoring_machine==0?"Không đạt":"",scoring_human:e.scoring_human}),b(e.scoring_human);let x=[];e.images!=null&&e.images!=""&&(x=JSON.parse(e.images));let h=[];e.images_ai!=null&&e.images_ai!=""&&(h=JSON.parse(e.images_ai)),r(x),v(h)}},[e]);const y=x=>{m(x)},C=x=>{d(x)},S=()=>{c>0&&m(c-1)},R=()=>{c<a.length-1&&m(c+1)},j=()=>{l>0&&d(l-1)},_=()=>{l<s.length-1&&d(l+1)},f=x=>{b(x),n(x)};return i.jsx(i.Fragment,{children:i.jsxs("div",{className:"p-4 pt-6 pb-[40px]",children:[i.jsxs(De,{children:[i.jsx(le,{span:8,children:i.jsx(ge,{label:"Khách hàng",name:"store",className:"pt-3",required:!0,children:i.jsx(Ce,{readOnly:!0})})}),i.jsx(le,{span:8,children:i.jsx(ge,{label:"Chiến dịch",name:"campaign_name",className:"pt-3",required:!0,children:i.jsx(Ce,{readOnly:!0})})}),i.jsx(le,{span:8,children:i.jsx(ge,{label:"Nhân viên thực hiện",name:"employee_code",className:"pt-3",required:!0,children:i.jsx(Ce,{readOnly:!0})})})]}),i.jsxs(De,{children:[i.jsx(le,{span:8,children:i.jsx(ge,{label:"Thời gian thực hiện",name:"time_report",className:"pt-3",required:!0,children:i.jsx(Ce,{readOnly:!0})})}),i.jsx(le,{span:8,children:i.jsx(ge,{label:"Điểm trưng bày AI chấm",name:"scoring_machine",className:"pt-3",required:!0,children:i.jsx(Ce,{readOnly:!0,style:{color:e&&e.scoring_machine===1?"green":e&&e.scoring_machine===0?"red":"black"}})})}),i.jsx(le,{span:8,children:i.jsx(ge,{label:"Giám sát chấm",name:"scoring_human",className:"pt-3",required:!0,children:i.jsx(Ge,{className:"w-[200px] h-[36px]",value:u,onChange:x=>f(x),defaultValue:u,children:g.map(x=>i.jsx(Ge.Option,{value:x.value,children:x.label},x.value))})})})]}),i.jsxs(De,{children:[i.jsx(le,{span:8,children:i.jsxs(ge,{label:"Hình ảnh cửa hàng",className:"pt-3",required:!0,children:[i.jsxs("div",{style:{position:"relative",width:"100%",height:"auto",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"},children:[i.jsx(Te,{src:a[c],style:{maxWidth:"100%",maxHeight:"100%",objectFit:"cover",alignSelf:"center",borderRadius:"10px"}}),i.jsx("div",{onClick:S,style:{height:"50px",width:"35px",display:"flex",justifyContent:"center",borderRadius:"5px",position:"absolute",top:"50%",left:"10px",transform:"translateY(-50%)",cursor:"pointer",fontSize:"24px",zIndex:1,backgroundColor:"rgba(0, 0, 0, 0.2)"},children:i.jsx(Ee,{onClick:S,style:{color:"white"}})}),i.jsx("div",{onClick:R,style:{height:"50px",width:"35px",display:"flex",justifyContent:"center",borderRadius:"5px",position:"absolute",top:"50%",right:"10px",transform:"translateY(-50%)",cursor:"pointer",fontSize:"24px",zIndex:1,backgroundColor:"rgba(0, 0, 0, 0.2)"},children:i.jsx(Ze,{onClick:R,style:{color:"white"}})})]}),i.jsx("div",{style:{display:"flex",justifyContent:"flex-start",gap:"10px",overflowX:"hidden",marginTop:"10px"},children:a.map((x,h)=>i.jsx(Te,{src:x,onClick:()=>y(h),style:{width:"80px",height:"80px",objectFit:"cover",cursor:"pointer",borderRadius:"10px"},preview:!1},h))})]})}),i.jsx(le,{span:8,children:i.jsxs(ge,{label:"Hình ảnh AI trả về",className:"pt-3",required:!0,children:[i.jsxs("div",{style:{position:"relative",width:"100%",height:"auto",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"},children:[i.jsx(Te,{src:s[l],style:{maxWidth:"100%",maxHeight:"100%",objectFit:"cover",alignSelf:"center",borderRadius:"10px"}}),i.jsx("div",{onClick:j,style:{height:"50px",width:"35px",display:"flex",justifyContent:"center",borderRadius:"5px",position:"absolute",top:"50%",left:"10px",transform:"translateY(-50%)",cursor:"pointer",fontSize:"24px",zIndex:1,backgroundColor:"rgba(0, 0, 0, 0.2)"},children:i.jsx(Ee,{onClick:j,style:{color:"white"}})}),i.jsx("div",{onClick:_,style:{height:"50px",width:"35px",display:"flex",justifyContent:"center",borderRadius:"5px",position:"absolute",top:"50%",right:"10px",transform:"translateY(-50%)",cursor:"pointer",fontSize:"24px",zIndex:1,backgroundColor:"rgba(0, 0, 0, 0.2)"},children:i.jsx(Ze,{onClick:_,style:{color:"white"}})})]}),i.jsx("div",{style:{display:"flex",justifyContent:"flex-start",gap:"10px",overflowX:"hidden",marginTop:"10px"},children:s.map((x,h)=>i.jsx(Te,{src:x,onClick:()=>C(h),style:{width:"80px",height:"80px",objectFit:"cover",cursor:"pointer",borderRadius:"10px"},preview:!1},h))})]})}),i.jsx(le,{span:8})]})]})})}function kn(t){const e={},[n,a]=o.useState([]);o.useState([{label:"Đạt",value:1},{label:"Không đạt",value:0}]),t.recordData?.detail_skus.forEach(l=>{const d=l.category,u=1;e[d]=(e[d]||0)+u});const r=(l,d,u)=>{a(b=>{let g=n.filter(p=>p.report_sku_id==u.name);if(g!=null&&g.length>0){let p=n.findIndex(y=>y.report_sku_id==u.name);n[p].sum_product_human=d}else n.push({report_sku_id:u.name,sum_product_human:d,scoring_human:u.scoring_human});return t.onChangeValReportSKU(n),n})},s=t.recordData?.category_names.map((l,d)=>{const u=Object.keys(l)[0];return{key:d.toString(),stt:(d+1).toString(),categoryName:Object.values(l)[0],number_product:e[u]||0}}),v=[{title:"STT",dataIndex:"stt"},{title:"Tên sản phẩm",dataIndex:"name_product"},{title:"Số lượng sản phẩm AI đếm",dataIndex:"sum_product"},{title:"Số lượng sản phẩm giám sát đếm",dataIndex:"sum_product_human",render:(l,d,u)=>i.jsx(Ce,{style:{width:"120px"},defaultValue:l,onChange:b=>r(u,parseInt(b.target.value),d)})},{title:"Điểm trưng bày AI chấm",dataIndex:"scoring_machine",render:l=>i.jsxs(i.Fragment,{children:[l===1&&i.jsxs("span",{style:{display:"flex"},children:[i.jsx(At,{style:{fontSize:"17px",color:"green",paddingRight:"3px"}})," ",i.jsx("span",{style:{color:"green",verticalAlign:"middle"},children:"Đạt"})]}),l===0&&i.jsxs("span",{style:{display:"flex"},children:[i.jsx(Yt,{style:{fontSize:"17px",color:"red",paddingRight:"3px"}})," ",i.jsx("span",{style:{color:"red",verticalAlign:"middle"},children:"Không đạt"})]})]})}],c=[{title:"STT",dataIndex:"stt"},{title:"Danh mục sản phẩm",dataIndex:"categoryName"},{title:"Số lượng sản phẩm",dataIndex:"number_product"}],m=t.recordData?.category_names.map((l,d)=>{const u=Object.keys(l)[0];return(t.recordData?.detail_skus.filter(g=>g.category===u)).map((g,p)=>({key:`${d}-${p}`,stt:`${(p+1).toString().padStart(2,"0")}`,name_product:g.product_name,sum_product:g.sum_product.toString(),image:g.images,creation:g.creation,scoring_machine:g.scoring_machine,scoring_human:g.scoring_human,sum_product_human:g.sum_product_human,name:g.name,index_category:d}))});return i.jsx(i.Fragment,{children:i.jsx(Pt,{columns:c,expandable:{expandedRowRender:(l,d)=>i.jsx("div",{style:{margin:5},children:i.jsx(Tt,{columns:v,dataSource:m[d],pagination:!1})}),rowExpandable:l=>m[l.key].length>0},dataSource:s})})}function Ln(){const[t,e]=o.useState(null),[n,a]=o.useState(0),[r,s]=o.useState([]),[v,c]=o.useState(!1),m=Et(),l=C=>{},[d]=qe.useForm(),u=C=>{a(C)},b=C=>{s(C)},g=[{key:"1",label:i.jsx("span",{style:{fontWeight:700},children:"Thông tin chung"}),children:i.jsx(En,{form:d,recordData:t,onChangeScoringHuman:u})},{key:"2",label:i.jsx("span",{style:{fontWeight:700},children:"Sản phẩm"}),children:i.jsx(kn,{recordData:t,onChangeValReportSKU:b})}];o.useEffect(()=>{let C=localStorage.getItem("recordData");if(console.log(JSON.parse(C)),C){let S=JSON.parse(C);e(S),a(S.scoring_human);let R=[];for(let j=0;j<S.detail_skus.length;j++){let _={report_sku_id:S.detail_skus[j].name,sum_product_human:S.detail_skus[j].sum_product_human,scoring_human:S.detail_skus[j].scoring_human};R.push(_)}s(R)}localStorage.removeItem("recordData")},[]);const p=async()=>{c(!0);let C={name:t.name,scoring:n,arr_product:r};const R=await zt.post("/api/method/mbw_audit.api.api.update_report",C);R!=null&&R.message=="ok"&&R.result!=null&&R.result.data=="success"?(Je.success("Cập nhật thành công"),c(!1)):(Je.error("Cập nhật thất bại"),c(!1))},y=()=>t?`${t.customer_name} - ${t.campaign_name}`:"Tiêu đề";return i.jsxs(i.Fragment,{children:[i.jsx(kt,{title:y(),icon:i.jsx("p",{onClick:()=>m("/reports"),className:"mr-2 cursor-pointer",children:i.jsx(Ee,{})}),buttons:[{label:"Lưu lại",type:"primary",size:"20px",className:"flex items-center",loading:v,action:p}]}),i.jsx("div",{className:"bg-white  rounded-xl",children:i.jsx(qe,{layout:"vertical",form:d,children:i.jsx(Lt,{items:g,defaultActiveKey:["1","2"],onChange:l,className:"custom-collapse"})})})]})}function An(){return i.jsxs(i.Fragment,{children:[i.jsx($t,{children:i.jsx("title",{children:"BÁO CÁO"})}),i.jsx(Ln,{})]})}export{An as default};
